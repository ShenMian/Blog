# 碰撞检测

## 阶段
- **Broad-Phase**: 快速排除不需要检测的情况, 减少下一步的计算量.
- **Narrow-Phase**: 对可能发生碰撞的物体进行碰撞检测和受力分析.

所有物体都可能发送碰撞的情况下, 进行碰撞检测的时间复杂度为O(N^2). 这意味着碰撞检测的耗时将会随着物体数量的增多成指数倍增长, 成为性能瓶颈. 因此在进行碰撞检测之前要先对物体进行筛选, 尽可能的挑选出必须要进行碰撞检测的物体, 以减少不必要的计算.

## Broad-Phase
通过物体之间的相对位置和相对速度以及空间分区等可以将其进行快速分类, 部分物体之间不可能发生碰撞就没有必要再进一步进行碰撞检测和受力分析.
- 排序和扫描(Sort and Sweep)
- 空间分区(Spatial Subdivision)

## 碰撞体积(Bounding Volume)
参与碰撞检测的刚体可能具有复杂的外形, 将对性能造成严重的影响. 因此可以利用简化外形来提高碰撞检测的性能. 使用碰撞体积(包围盒)来替代实际的外形进行碰撞检测, 碰撞体积通常由几个简单的几何图形组成, 因此可以减少运算量并运用有针对性优化的算法.  
- **AABB(Axis-aligned bounding boxes)**: 所有的边均平行于坐标系, 不需要考虑旋转角度等因素, 碰撞检测简单快速.  
- **Circle**: 通常只适用于近似圆形的物体, 但针对这部分物体碰撞体积和实际外形可能十分接近, 碰撞检测精准且效率极高.  

## 参考
- https://developer.nvidia.com/gpugems/gpugems3/part-v-physics-simulation/chapter-32-broad-phase-collision-detection-cuda
