# 刚体动力学

物理引擎是一个计算机程序模拟牛顿力学模型.

## 牛顿运动定律(Newton's laws of motion)
以下是三条运动定律的通俗表示, 并非全部为原始表述.
- 牛顿第一运动定律: 任何物体都要保持匀速直线运动或静止状态, 直到外力迫使它改变运动状态为止.
- 牛顿第二运动定律: 物体加速度的大小与合外力成正比, 与物体质量成反比.
- 牛顿第三运动定律: 相互作用的两个物体之间的作用力和反作用力总是大小相等, 方向相反, 作用在同一条直线上.

## 刚体(Rigid body)
刚体是指在运动中和受力作用后, 形状和大小不变, 而且内部各点的相对位置不变的物体. 绝对刚体实际上是不存在的, 只是一种理想模型. 许多物理受力后只发生极小的形变, 因此可以忽略形变带来的效果. 将大部分物体看作刚体可以极大的简化计算工作.

```cpp
struct Rigidbody
{
  Vec2  force; // (1)
  float mass = 1.0f;

  Vec2 velocity;
  Vec2 position;
}

class World
{
public:
  void update(float dt)
  {
    for(auto& body : bodies)
    {
      auto acceleration = body.force / body.mass + gravity; // (2)
      body.velocity += acceleration * dt;
      body.position += body.velocity * dt;
    }
  }

private:
  Vec2                   gravity;
  std::vector<Rigidbody> bodies;
};
```

代码注释:
- (1): 刚体所受合外力.
- (2): 计算加速度, 由 F = am 可得 a = F / m.
